<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Check BAM file is valid — check_bam • DropletQC</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Check BAM file is valid — check_bam" />
<meta property="og:description" content="Accepts the path to a BAM file. The function executes two checks on the file.
The first check passes the file through gunzip and tests whether the bytes
at the beginning of the BAM file are correct. This idea was taken from a
helpful suggestion by Konrad Rudolph in a StackExchange response to &quot;Is there
an efficient way to check an input BAM in R?&quot;. The second check reads in the
first 10,000 reads from the BAM file and looks to see if the two required
tags; cell barcode and region type are present. The function returns a
character vector with two elements. The first element may take one of three
possible values; &quot;error&quot;, &quot;warning&quot;, &quot;pass&quot;. The second element is a message
with provides extra details about any warnings/errors. Note that if the file
fails the first file check, an &quot;error&quot; is returned as the first value. If the
file fails the second check a &quot;warning&quot; is returned as the first value. Note
that the function was written as a simple helper function to be called
internally by DropletQC::nuclear_fraction_tags() and
DropletQC::nuclear_fraction_annotation() and isn't intended for more general
use." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">DropletQC</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/DropletQC.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Check BAM file is valid</h1>
    
    <div class="hidden name"><code>check_bam.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Accepts the path to a BAM file. The function executes two checks on the file.
The first check passes the file through <code>gunzip</code> and tests whether the bytes
at the beginning of the BAM file are correct. This idea was taken from a
helpful suggestion by Konrad Rudolph in a StackExchange response to "Is there
an efficient way to check an input BAM in R?". The second check reads in the
first 10,000 reads from the BAM file and looks to see if the two required
tags; cell barcode and region type are present. The function returns a
character vector with two elements. The first element may take one of three
possible values; "error", "warning", "pass". The second element is a message
with provides extra details about any warnings/errors. Note that if the file
fails the first file check, an "error" is returned as the first value. If the
file fails the second check a "warning" is returned as the first value. Note
that the function was written as a simple helper function to be called
internally by <code><a href='nuclear_fraction_tags.html'>DropletQC::nuclear_fraction_tags()</a></code> and
<code><a href='nuclear_fraction_annotation.html'>DropletQC::nuclear_fraction_annotation()</a></code> and isn't intended for more general
use.</p>
    </div>

    <pre class="usage"><span class='fu'>check_bam</span><span class='op'>(</span><span class='va'>bam_path</span>, <span class='va'>cb_tag</span>, rt_tag <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>bam_path</th>
      <td><p>character, bam_path should be a character vector pointing to
the BAM file you want to check</p></td>
    </tr>
    <tr>
      <th>cb_tag</th>
      <td><p>character, the BAM tag containing the cell barcode sequence</p></td>
    </tr>
    <tr>
      <th>rt_tag</th>
      <td><p>character, the BAM tag containing the region type</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>character. The function returns a character vector with two elements.
The first element may take one of three possible values; "error", "warning",
"pass". The second element is a message with provides extra details about
any warnings/errors.</p>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Walter Muskovic.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


